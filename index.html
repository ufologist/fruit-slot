<!DOCTYPE HTML>
<html lang="zh">
  <head>
    <meta charset="UTF-8">
    <title>/lottery - Lottery</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="nico 0.5.2" />
    <link type="image/x-icon" href="./static/css/favicon.ico" rel="icon">
    <link rel="stylesheet" href="./static/css/site.css" />
    <link rel="stylesheet" href="./static/css/solarized.css" />
  </head>
  <body>
    <div id="body-wrapper">
      <aside id="sidebar-wrapper">
      <h1>
          <a href="./">FruitSlot</a><sup class="package-root"><a href="/"></a></sup>
      </h1>
        <p class="version">当前版本：<a href="https://github.com/ufologist/fruit-slot">2.0.0</a></p>
        <p class="description">经典水果机抽奖</p>
        <a class="source" href="https://github.com/ufologist/fruit-slot" target="_blank">View the Project</a>
        <ul id="navigation" role="navigation">
          <li><a href="https://github.com/ufologist/fruit-slot">文档</a></li>
          <li><a href="examples/">演示</a></li>
          <li><a href="https://github.com/ufologist/fruit-slot/blob/master/HISTORY.md">历史</a></li>
        </ul>
      </aside>
      <div id="content-wrapper">
        <div id="content">
<article class="hentry">
  <h1 class="entry-title">FruitSlot</h1>
  <div class="entry-content">
    <p>经典水果机抽奖</p>
    <img src="fruit-slot-classic.png" alt="fruit-slot-classic" width="300" height="299">
<hr>
<h2 id="usage">Usage<a href="#usage" class="anchor">¶</a></h2>
<!-- 水果机抽奖示例样式 -->
<style>
.clearfix:before,
.clearfix:after {
    display: table;
    content: " ";
}
.clearfix:after {
    clear: both;
}

.lotto__list {
    position: relative;
    width: 592px;
}
.lotto__item,
.lotto__placeholder {
    position: relative;
    float: left; /* https://css-tricks.com/fighting-the-space-between-inline-block-elements/ */
    text-align: center;
}
.lotto__placeholder {
    width: 296px;
    height: 102px;
}
.lotto__img {
    width: 148px;
    height: 102px;
    vertical-align: middle;
}
.lotto__txt {
  position: absolute;
  right: 0;
  bottom: 0;
  left: 0;
  line-height: 24px;
  font-size: 14px;
  color: #fff;
  background-color: #515151;
}
.lotto__border {
    display: none;
    position: absolute;
    z-index: 1;
    left: -3px;
    top: -3px;
    width: 148px;
    height: 102px;
    border: 3px solid #FE2441;
}
.lotto__item--hover .lotto__border {
    display: block;
}
.btn-start {
    position: absolute;
    top: 50%;
    left: 50%;
    width: 40%;
    height: 40%;
    font-size: 120%;
    -webkit-transform: translate(-50%, -50%);
            transform: translate(-50%, -50%);
}
</style>
<!-- 水果机抽奖 DOM 结构 -->
<div id="J_lottery1">
    <div class="lotto__list clearfix">
        <span data-lotto-item class="lotto__item">
            <img class="lotto__img" src="http://zhanweitu.com/148/102/1Y%E5%B8%81" alt="1Y币" >
            <em class="lotto__txt">0</em>
            <div class="lotto__border"></div>
        </span>
        <span data-lotto-item class="lotto__item">
            <img class="lotto__img" src="http://zhanweitu.com/148/102/2Y%E5%B8%81" alt="2Y币" >
            <em class="lotto__txt">1</em>
            <div class="lotto__border"></div>
        </span>
        <span data-lotto-item class="lotto__item">
            <img class="lotto__img" src="http://zhanweitu.com/148/102/3Y%E5%B8%81" alt="3Y币" >
            <em class="lotto__txt">2</em>
            <div class="lotto__border"></div>
        </span>
        <span data-lotto-item class="lotto__item">
            <img class="lotto__img" src="http://zhanweitu.com/148/102/%E8%B0%A2%E8%B0%A2" alt="谢谢参与" >
            <em class="lotto__txt">3</em>
            <div class="lotto__border"></div>
        </span>
        <span data-lotto-item class="lotto__item">
            <img class="lotto__img" src="http://zhanweitu.com/148/102/4Y%E5%B8%81" alt="4Y币" >
            <em class="lotto__txt">11</em>
            <div class="lotto__border"></div>
        </span>
        <div class="lotto__placeholder"></div>
        <span data-lotto-item class="lotto__item">
            <img class="lotto__img" src="http://zhanweitu.com/148/102/5Y%E5%B8%81" alt="5Y币" >
            <em class="lotto__txt">4</em>
            <div class="lotto__border"></div>
        </span>
        <span data-lotto-item class="lotto__item">
            <img class="lotto__img" src="http://zhanweitu.com/148/102/6Y%E5%B8%81" alt="6Y币" >
            <em class="lotto__txt">10</em>
            <div class="lotto__border"></div>
        </span>
        <div class="lotto__placeholder"></div>
        <span data-lotto-item class="lotto__item">
            <img class="lotto__img" src="http://zhanweitu.com/148/102/7Y%E5%B8%81" alt="7Y币" >
            <em class="lotto__txt">5</em>
            <div class="lotto__border"></div>
        </span>
        <span data-lotto-item class="lotto__item">
            <img class="lotto__img" src="http://zhanweitu.com/148/102/%E8%B0%A2%E8%B0%A2" alt="谢谢参与" >
            <em class="lotto__txt">9</em>
            <div class="lotto__border"></div>
        </span>
        <span data-lotto-item class="lotto__item">
            <img class="lotto__img" src="http://zhanweitu.com/148/102/8Y%E5%B8%81" alt="8Y币" >
            <em class="lotto__txt">8</em>
            <div class="lotto__border"></div>
        </span>
        <span data-lotto-item class="lotto__item">
            <img class="lotto__img" src="http://zhanweitu.com/148/102/9Y%E5%B8%81" alt="9Y币" >
            <em class="lotto__txt">7</em>
            <div class="lotto__border"></div>
        </span>
        <span data-lotto-item class="lotto__item">
            <img class="lotto__img" src="http://zhanweitu.com/148/102/10Y%E5%B8%81" alt="10Y币" >
            <em class="lotto__txt">6</em>
            <div class="lotto__border"></div>
        </span>
        <button class="btn-start">START</button>
    </div>
</div>

  </div>



</article>
</div>
      </div>
      
    </div>
    <div id="footer-wrapper">
      <footer>
        <p class="powered"><a href="https://github.com/duowan/lottery">lottery</a> •
<a href="https://github.com/ufologist/fruit-slot">fruit-slot</a> •
<a href="http://lab.lepture.com/nico/">nico</a>
        </p>
      </footer>
    </div>
    <script src="http://cdn.bootcss.com/jquery/2.2.0/jquery.min.js"></script>
    <script src="https://rawgit.com/ufologist/lottery/master/src/fruit-slot.js"></script>
    <!-- 水果机抽奖调用示例 -->
    <script>
    function createFruitSlot(selector) {
        var fruitSlot = new FruitSlot({
            el: selector,
            lottoItem: '[data-lotto-item]',
            activeClass: 'lotto__item--hover'
        });
        var lottoItemLength = document.querySelector(selector).querySelectorAll('[data-lotto-item]').length;

        document.querySelector(selector).querySelector('.btn-start').addEventListener('click', function(event) {
            fruitSlot.start();

            // 假装我们异步请求接口数据获取抽奖结果
            setTimeout(function() {
                var stopIndex = Math.floor(Math.random() * lottoItemLength);
                fruitSlot.stop(stopIndex, function() {
                  alert('恭喜你抽中奖品: ' + selector + ':' + stopIndex);
                });
            }, 2000);
        }, false);
    }

    createFruitSlot('#J_lottery1');
    </script>
  </body>
</html>